animations = {
	--Handguns
	['Ceramic Pistol'] = { 
		--
		['walk'] = 1,
		--
		['reload'] = {
			[false] = {'colt45', 'colt45_reload', 1, false, true, false, true, 1, true},
			[true] = {'colt45', 'colt45_crouchreload', 1, false, true, false, true, 1, true},
		},
	},
	--
	['Pistol'] = { 
		--
		['reload'] = {
			[false] = {'colt45', 'colt45_reload', 1, false, true, false, true, 1, true},
			[true] = {'colt45', 'colt45_crouchreload', 1, false, true, false, true, 1, true},
		},
	},
	--
	['Pistol Mk II'] = { 
		--
		['reload'] = {
			[false] = {'colt45', 'colt45_reload', 1, false, true, false, true, 1, true},
			[true] = {'colt45', 'colt45_crouchreload', 1, false, true, false, true, 1, true},
		},
	},
	--
	['SNS Pistol'] = { 
		--
		['reload'] = {
			[false] = {'colt45', 'colt45_reload', 1, false, true, false, true, 1, true},
			[true] = {'colt45', 'colt45_crouchreload', 1, false, true, false, true, 1, true},
		},
	},
	--
	['SNS Pistol Mk II'] = { 
		--
		['reload'] = {
			[false] = {'colt45', 'colt45_reload', 1, false, true, false, true, 1, true},
			[true] = {'colt45', 'colt45_crouchreload', 1, false, true, false, true, 1, true},
		},
	},
	--
	['AP Pistol'] = { 
		--
		['reload'] = {
			[false] = {'colt45', 'colt45_reload', 1, false, true, false, true, 1, true},
			[true] = {'colt45', 'colt45_crouchreload', 1, false, true, false, true, 1, true},
		},
	},
	--
	['Double-Action Revolver'] = {
		--
		['reload'] = {
			[false] = {'colt45', 'sawnoff_reload', 1, false, true, false, true, 1, true},
			[true] = {'colt45', 'sawnoff_reload', 1, false, true, false, true, 1, true},
		},
	},
	--
	['Flare Gun'] = { 
		--
		['reload'] = {
			[false] = {'colt45', 'sawnoff_reload', 1, false, true, false, true, 1, true},
			[true] = {'colt45', 'sawnoff_reload', 1, false, true, false, true, 1, true},
		},
	},
	--
	['Heavy Revolver'] = { 
		--
		['reload'] = {
			[false] = {'colt45', 'sawnoff_reload', 1, false, true, false, true, 1, true},
			[true] = {'colt45', 'sawnoff_reload', 1, false, true, false, true, 1, true},
		},
	},
	--
	['Heavy Revolver Mk II'] = { 
		--
		['reload'] = {
			[false] = {'colt45', 'sawnoff_reload', 1, false, true, false, true, 1, true},
			[true] = {'colt45', 'sawnoff_reload', 1, false, true, false, true, 1, true},
		},
	},
	--
	['Heavy Pistol'] = {
		--
		['reload'] = {
			[false] = {'python', 'python_reload', 1, false, true, false, true, 1, true},
			[true] = {'python', 'python_crouchreload', 1, false, true, false, true, 1, true},
		},
	},
	--
	['Marksman Pistol'] = { 
		--
		['reload'] = {
			[false] = {'colt45', 'sawnoff_reload', 1, false, true, false, true, 1, true},
			[true] = {'colt45', 'sawnoff_reload', 1, false, true, false, true, 1, true},
		},
	},
	--
	['Navy Revolver'] = { 
		--
		['reload'] = {
			[false] = {'colt45', 'sawnoff_reload', 1, false, true, false, true, 1, true},
			[true] = {'colt45', 'sawnoff_reload', 1, false, true, false, true, 1, true},
		},
	},
	--
	['Stun Gun'] = { 
		--
		['reload'] = {
			[false] = {'colt45', 'colt45_reload', 1, false, true, false, true, 1, true},
			[true] = {'colt45', 'colt45_crouchreload', 1, false, true, false, true, 1, true},
		},
	},
	--
	['Up-n-Atomizer'] = { 
		--
		['reload'] = {
			[false] = {'colt45', 'colt45_reload', 1, false, true, false, true, 1, true},
			[true] = {'colt45', 'colt45_crouchreload', 1, false, true, false, true, 1, true},
		},
	},
	--
	['Pistol .50'] = { 
		--
		['reload'] = {
			[false] = {'python', 'python_reload', 1, false, true, false, true, 1, true},
			[true] = {'python', 'python_crouchreload', 1, false, true, false, true, 1, true},
		},
	},
	--
	['Vintage Pistol'] = { 
		--
		['reload'] = {
			[false] = {'colt45', 'colt45_reload', 1, false, true, false, true, 1, true},
			[true] = {'colt45', 'colt45_crouchreload', 1, false, true, false, true, 1, true},
		},
	},
	--
	['Combat Pistol'] = { 
		--
		['reload'] = {
			[false] = {'python', 'python_reload', 1, false, true, false, true, 1, true},
			[true] = {'python', 'python_crouchreload', 1, false, true, false, true, 1, true},
		},
	},
	--
	['Perico Pistol'] = { 
		--
		['reload'] = {
			[false] = {'python', 'python_reload', 1, false, true, false, true, 1, true},
			[true] = {'python', 'python_crouchreload', 1, false, true, false, true, 1, true},
		},
	},
	--
	['VM 29 Pistol'] = { 
		--
		['reload'] = {
			[false] = {'python', 'python_reload', 1, false, true, false, true, 1, true},
			[true] = {'python', 'python_crouchreload', 1, false, true, false, true, 1, true},
		},
	},
	--SMG
	['Assault SMG'] = { 
		['reload'] = {
			[false] = {'rifle', 'rifle_load', 1, false, true, false, true, 1, true},
			[true] = {'rifle', 'rifle_crouchload', 1, false, true, false, true, 1, true},
		},
	},
	--
	['Combat PDW'] = { 
		['reload'] = {
			[false] = {'uzi', 'uzi_reload', 1, false, true, false, true, 1, true},
			[true] = {'uzi', 'uzi_crouchreload', 1, false, true, false, true, 1, true},
		},
	},
	--
	['Micro SMG'] = { 
		['reload'] = {
			[false] = {'uzi', 'uzi_reload', 1, false, true, false, true, 1, true},
			[true] = {'uzi', 'uzi_crouchreload', 1, false, true, false, true, 1, true},
		},
	},
	--
	['Machine Pistol'] = { 
		['reload'] = {
			[false] = {'uzi', 'uzi_reload', 1, false, true, false, true, 1, true},
			[true] = {'uzi', 'uzi_crouchreload', 1, false, true, false, true, 1, true},
		},
	},
	--
	['Mini SMG'] = { 
		['reload'] = {
			[false] = {'uzi', 'uzi_reload', 1, false, true, false, true, 1, true},
			[true] = {'uzi', 'uzi_crouchreload', 1, false, true, false, true, 1, true},
		},
	},
	--
	['SMG'] = { 
		['reload'] = {
			[false] = {'uzi', 'uzi_reload', 1, false, true, false, true, 1, true},
			[true] = {'uzi', 'uzi_crouchreload', 1, false, true, false, true, 1, true},
		},
	},
	--
	['SMG Mk II'] = { 
		['reload'] = {
			[false] = {'uzi', 'uzi_reload', 1, false, true, false, true, 1, true},
			[true] = {'uzi', 'uzi_crouchreload', 1, false, true, false, true, 1, true},
		},
	},
	--
	['Tactical SMG'] = { 
		['reload'] = {
			[false] = {'uzi', 'uzi_reload', 1, false, true, false, true, 1, true},
			[true] = {'uzi', 'uzi_crouchreload', 1, false, true, false, true, 1, true},
		},
	},
	--LMG
	['Unholy Hellbringer'] = { 
		['reload'] = {
			[false] = {'rifle', 'rifle_load', 1, false, true, false, true, 1, true},
			[true] = {'rifle', 'rifle_crouchload', 1, false, true, false, true, 1, true},
		},
	},
	--
	['Gusenberg Sweeper'] = { 
		['reload'] = {
			[false] = {'rifle', 'rifle_load', 1, false, true, false, true, 1, true},
			[true] = {'rifle', 'rifle_crouchload', 1, false, true, false, true, 1, true},
		},
	},
	--
	['Assault MG'] = { 
		['reload'] = {
			[false] = {'rifle', 'rifle_load', 1, false, true, false, true, 1, true},
			[true] = {'rifle', 'rifle_crouchload', 1, false, true, false, true, 1, true},
		},
	},
	--
	['Assault Rifle'] = { 
		['reload'] = {
			[false] = {'rifle', 'rifle_load', 1, false, true, false, true, 1, true},
			[true] = {'rifle', 'rifle_crouchload', 1, false, true, false, true, 1, true},
		},
	},
	--
	['Assault Rifle Mk II'] = { 
		['reload'] = {
			[false] = {'rifle', 'rifle_load', 1, false, true, false, true, 1, true},
			[true] = {'rifle', 'rifle_crouchload', 1, false, true, false, true, 1, true},
		},
	},
	--
	['Carbine Rifle'] = { 
		['reload'] = {
			[false] = {'rifle', 'rifle_load', 1, false, true, false, true, 1, true},
			[true] = {'rifle', 'rifle_crouchload', 1, false, true, false, true, 1, true},
		},
	},
	--
	['Carbine Rifle Mk II'] = { 
		['reload'] = {
			[false] = {'rifle', 'rifle_load', 1, false, true, false, true, 1, true},
			[true] = {'rifle', 'rifle_crouchload', 1, false, true, false, true, 1, true},
		},
	},
	--
	['Bullpup Rifle'] = { 
		['reload'] = {
			[false] = {'rifle', 'rifle_load', 1, false, true, false, true, 1, true},
			[true] = {'rifle', 'rifle_crouchload', 1, false, true, false, true, 1, true},
		},
	},
	--
	['Bullpup Rifle Mk II'] = { 
		['reload'] = {
			[false] = {'rifle', 'rifle_load', 1, false, true, false, true, 1, true},
			[true] = {'rifle', 'rifle_crouchload', 1, false, true, false, true, 1, true},
		},
	},
	--
	['Advanced Rifle'] = { 
		['reload'] = {
			[false] = {'rifle', 'rifle_load', 1, false, true, false, true, 1, true},
			[true] = {'rifle', 'rifle_crouchload', 1, false, true, false, true, 1, true},
		},
	},
	--
	['Compact Rifle'] = { 
		['shoot'] = {
			[false] = {'uzi', 'uzi_fire', 1, false, false, false, true, 1, false, 1.0, 0.3845},
			[true] = {'uzi','uzi_crouchfire', 1, false, false, true, true, 1, true, 1.0, 0.3158},
		},
		--
		['reload'] = {
			[false] = {'uzi', 'uzi_reload', 1, false, true, false, true, 1, true},
			[true] = {'uzi', 'uzi_crouchreload', 1, false, true, false, true, 1, true},
		},
	},
	--
	['Special Carbine'] = { 
		['reload'] = {
			[false] = {'rifle', 'rifle_load', 1, false, true, false, true, 1, true},
			[true] = {'rifle', 'rifle_crouchload', 1, false, true, false, true, 1, true},
		},
	},
	--
	['Special Carbine Mk II'] = { 
		['reload'] = {
			[false] = {'rifle', 'rifle_load', 1, false, true, false, true, 1, true},
			[true] = {'rifle', 'rifle_crouchload', 1, false, true, false, true, 1, true},
		},
	},
	--
	['Heavy Rifle'] = { 
		['reload'] = {
			[false] = {'rifle', 'rifle_load', 1, false, true, false, true, 1, true},
			[true] = {'rifle', 'rifle_crouchload', 1, false, true, false, true, 1, true},
		},
	},
	--
	['Service Carbine'] = { 
		['reload'] = {
			[false] = {'rifle', 'rifle_load', 1, false, true, false, true, 1, true},
			[true] = {'rifle', 'rifle_crouchload', 1, false, true, false, true, 1, true},
		},
	},
	--
	['Battle Rifle'] = { 
		['reload'] = {
			[false] = {'rifle', 'rifle_load', 1, false, true, false, true, 1, true},
			[true] = {'rifle', 'rifle_crouchload', 1, false, true, false, true, 1, true},
		},
	},
	--
	['Military Rifle'] = { 
		['reload'] = {
			[false] = {'rifle', 'rifle_load', 1, false, true, false, true, 1, true},
			[true] = {'rifle', 'rifle_crouchload', 1, false, true, false, true, 1, true},
		},
	},
	--Shotguns
	['Combat Shotgun'] = { 
		['reload'] = {
			[false] = {'buddy', 'buddy_reload', 1, false, true, false, true, 1, true},
			[true] = {'buddy', 'buddy_crouchreload', 1, false, true, false, true, 1, true},
		},
	},
	--
	['Pump Shotgun'] = { 
		['reload'] = {
			[false] = {'buddy', 'buddy_reload', 1, false, true, false, true, 1, true},
			[true] = {'buddy', 'buddy_crouchreload', 1, false, true, false, true, 1, true},
		},
	},
	--
	['Pump Shotgun Mk II'] = { 
		['reload'] = {
			[false] = {'buddy', 'buddy_reload', 1, false, true, false, true, 1, true},
			[true] = {'buddy', 'buddy_crouchreload', 1, false, true, false, true, 1, true},
		},
	},
	--
	['Bullpup Shotgun'] = { 
		['reload'] = {
			[false] = {'buddy', 'buddy_reload', 1, false, true, false, true, 1, true},
			[true] = {'buddy', 'buddy_crouchreload', 1, false, true, false, true, 1, true},
		},
	},
	--
	['Assault Shotgun'] = { 
		['reload'] = {
			[false] = {'buddy', 'buddy_reload', 1, false, true, false, true, 1, true},
			[true] = {'buddy', 'buddy_crouchreload', 1, false, true, false, true, 1, true},
		},
	},
	--
	['Double Barrel Shotgun'] = { 
		--
		['reload'] = {
			[false] = {'colt45', 'sawnoff_reload', 1, false, true, false, true, 1, true},
			[true] = {'colt45', 'sawnoff_reload', 1, false, true, false, true, 1, true},
		},
	},
	--
	['Sawed-Off Shotgun'] = { 
		--
		['reload'] = {
			[false] = {'buddy', 'buddy_reload', 1, false, true, false, true, 1, true},
			[true] = {'buddy', 'buddy_crouchreload', 1, false, true, false, true, 1, true},
		},
	},
	--
	['Heavy Shotgun'] = { 
		['reload'] = {
			[false] = {'buddy', 'buddy_reload', 1, false, true, false, true, 1, true},
			[true] = {'buddy', 'buddy_crouchreload', 1, false, true, false, true, 1, true},
		},
	},
	--
	['Musket'] = { 
		['reload'] = {
			[false] = {'buddy', 'buddy_reload', 1, false, true, false, true, 1, true},
			[true] = {'buddy', 'buddy_crouchreload', 1, false, true, false, true, 1, true},
		},
	},
	--
	['Sweeper Shotgun'] = { 
		--
		['reload'] = {
			[false] = {'buddy', 'buddy_reload', 1, false, true, false, true, 1, true},
			[true] = {'buddy', 'buddy_crouchreload', 1, false, true, false, true, 1, true},
		},
	},
	--Rifles
	['Sniper Rifle'] = { 
		['reload'] = {
			[false] = {'rifle', 'rifle_load', 1, false, true, false, true, 1, true},
			[true] = {'rifle', 'rifle_crouchload', 1, false, true, false, true, 1, true},
		},
	},
	--
	['Heavy Sniper'] = { 
		['reload'] = {
			[false] = {'rifle', 'rifle_load', 1, false, true, false, true, 1, true},
			[true] = {'rifle', 'rifle_crouchload', 1, false, true, false, true, 1, true},
		},
	},
	--
	['Heavy Sniper Mk II'] = { 
		['reload'] = {
			[false] = {'rifle', 'rifle_load', 1, false, true, false, true, 1, true},
			[true] = {'rifle', 'rifle_crouchload', 1, false, true, false, true, 1, true},
		},
	},
	--
	['Marksman Rifle'] = { 
		['reload'] = {
			[false] = {'rifle', 'rifle_load', 1, false, true, false, true, 1, true},
			[true] = {'rifle', 'rifle_crouchload', 1, false, true, false, true, 1, true},
		},
	},
	--
	['Marksman Rifle Mk II'] = { 
		['reload'] = {
			[false] = {'rifle', 'rifle_load', 1, false, true, false, true, 1, true},
			[true] = {'rifle', 'rifle_crouchload', 1, false, true, false, true, 1, true},
		},
	},
	--
	['Assault Sniper'] = { 
		['reload'] = {
			[false] = {'rifle', 'rifle_load', 1, false, true, false, true, 1, true},
			[true] = {'rifle', 'rifle_crouchload', 1, false, true, false, true, 1, true},
		},
	},
	--
	['Precision Rifle'] = { 
		['reload'] = {
			[false] = {'rifle', 'rifle_load', 1, false, true, false, true, 1, true},
			[true] = {'rifle', 'rifle_crouchload', 1, false, true, false, true, 1, true},
		},
	},
	--
	['Railgun'] = { 
		['reload'] = {
			[false] = {'rifle', 'rifle_load', 1, false, true, false, true, 1, true},
			[true] = {'rifle', 'rifle_crouchload', 1, false, true, false, true, 1, true},
		},
	},
	--MGN
	['MG'] = { 
		['reload'] = {
			[false] = {'rifle', 'rifle_load', 1, false, true, false, true, 1, true},
			[true] = {'rifle', 'rifle_crouchload', 1, false, true, false, true, 1, true},
		},
	},
	--
	['Combat MG'] = { 
		['reload'] = {
			[false] = {'rifle', 'rifle_load', 1, false, true, false, true, 1, true},
			[true] = {'rifle', 'rifle_crouchload', 1, false, true, false, true, 1, true},
		},
	},
	--
	['Combat MG Mk II'] = { 
		['reload'] = {
			[false] = {'rifle', 'rifle_load', 1, false, true, false, true, 1, true},
			[true] = {'rifle', 'rifle_crouchload', 1, false, true, false, true, 1, true},
		},
	},
	--
	['Minigun'] = { 
		
	},
	--
	['Widowmaker'] = { 
		
	},
	--Grenade
	['Teargas Launcher'] = { 
		['reload'] = {
			[false] = {'buddy', 'buddy_reload', 1, false, true, false, true, 1, true},
			[true] = {'buddy', 'buddy_crouchreload', 1, false, true, false, true, 1, true},
		},
	},
	--
	['Grenade Launcher'] = { 
		['reload'] = {
			[false] = {'buddy', 'buddy_reload', 1, false, true, false, true, 1, true},
			[true] = {'buddy', 'buddy_crouchreload', 1, false, true, false, true, 1, true},
		},
	},
	--
	['Compact Grenade Launcher'] = { 
		--
		['reload'] = {
			[false] = {'colt45', 'sawnoff_reload', 1, false, true, false, true, 1, true},
			[true] = {'colt45', 'sawnoff_reload', 1, false, true, false, true, 1, true},
		},
	},
	--
	['Compact EMP Launcher'] = { 
		--
		['reload'] = {
			[false] = {'python', 'python_reload', 1, false, true, false, true, 1, true},
			[true] = {'python', 'python_crouchreload', 1, false, true, false, true, 1, true},
		},
	},
	--
	['Snowball Launcher'] = { 
		--
		['reload'] = {
			[false] = {'python', 'python_reload', 1, false, true, false, true, 1, true},
			[true] = {'python', 'python_crouchreload', 1, false, true, false, true, 1, true},
		},
	},
	--
	['Hand Firework'] = { 
		['shoot'] = {
			[false] = {'colt45', 'colt45_fire', 1, false, false, false, true, 1, false, 1.0, 0.2727},
			[true] = {'colt45', 'colt45_crouchfire', 1, false, false, true, true, 1, true, 1.0, 0.25},
		},
		--
		['reload'] = {
			[false] = {'colt45', 'sawnoff_reload', 1, false, true, false, true, 1, true},
			[true] = {'colt45', 'sawnoff_reload', 1, false, true, false, true, 1, true},
		},
	},
	--Rocket launchers
	['Rocket Launcher'] = { 
		['shoot'] = {
			[false] = {'rocket', 'RocketFire', 1, false, false, false, true, 1, false, 1.0, 0.2069},
			[true] = {'rocket', 'RocketFire', 1, false, false, false, true, 1, false, 1.0, 0.2069},
		},
		--
		['reload'] = {
			[false] = {'colt45', 'sawnoff_reload', 1, false, true, false, true, 1, true},
			[true] = {'colt45', 'sawnoff_reload', 1, false, true, false, true, 1, true},
		},
	},
	--
	['Homing Launcher'] = { 
		['shoot'] = {
			[false] = {'rocket', 'RocketFire', 1, false, false, false, true, 1, false, 1.0, 0.2069},
			[true] = {'rocket', 'RocketFire', 1, false, false, false, true, 1, false, 1.0, 0.2069},
		},
		--
		['reload'] = {
			[false] = {'colt45', 'sawnoff_reload', 1, false, true, false, true, 1, true},
			[true] = {'colt45', 'sawnoff_reload', 1, false, true, false, true, 1, true},
		},
	},
	--
	['Firework Launcher'] = { 
		['shoot'] = {
			[false] = {'rocket', 'RocketFire', 1, false, false, false, true, 1, false, 1.0, 0.2069},
			[true] = {'rocket', 'RocketFire', 1, false, false, false, true, 1, false, 1.0, 0.2069},
		},
		--
		['reload'] = {
			[false] = {'colt45', 'sawnoff_reload', 1, false, true, false, true, 1, true},
			[true] = {'colt45', 'sawnoff_reload', 1, false, true, false, true, 1, true},
		},
	},
	--
}

animData = {}
	_setPedAnimation = setPedAnimation 
	function setPedAnimation (...)
	local boneco = arg[1]
		if arg[2] and arg[3] then
		setPedAnimationSpeed (boneco, arg[3], 1)
		setPedAnimationProgress (boneco, arg[3], 0)
			setTimer (function ()
				if arg[11] then
				setPedAnimationSpeed (boneco, arg[3], arg[11])
				end
				if arg[12] then
				setPedAnimationProgress (boneco, arg[3], arg[12])
				end
				--if arg[13] then
				--canhoto[boneco] = arg[13] or false
				--end

			end, 50, 1)
		else
		local data = animData[boneco]
			if data then
				if data[3] then
				setPedAnimationSpeed (boneco, data[3], 1)
				
					setTimer (function ()
						if data[3] then
						--setPedAnimationProgress (boneco,data[3], 0)
						end
					end, 50, 1)
				end			
			end
		end
	local a = arg[1]
	animData[a] = {unpack (arg)}
	return _setPedAnimation (unpack (arg))
	end

--Hit
function hitAnim ()

local hit_anims = {

	['alvejar'] = {
		--Tórax
		[3] = {
			['anterior'] = {'ped', 'DAM_stomach_frmFT', -1, false, true, true, false},
			['posterior'] = {'ped', 'DAM_stomach_frmBK', -1, false, true, true, false},
		},
		--
		[4] = {
			['anterior'] = {'ped', 'DAM_stomach_frmFT', -1, false, true, true, false},
			['posterior'] = {'ped', 'DAM_stomach_frmBK', -1, false, true, true, false},
		},
		--braço esquerdo
		[5] = {
			['anterior'] = {'ped', 'DAM_armL_frmFT', -1, false, true, true, false},
			['posterior'] = {'ped', 'DAM_armL_frmBK', -1, false, true, true, false},
		},
		--braço direito
		[6] = {
			['anterior'] = {'ped', 'DAM_armR_frmFT', -1, false, true, true, false},
			['posterior'] = {'ped', 'DAM_armR_frmBK', -1, false, true, true, false},
		},
		--perna esquerda
		[7] = {
			['anterior'] = {'ped', 'DAM_LegL_frmFT', -1, false, true, true, false},
			['posterior'] = {'ped', 'DAM_LegL_frmBK', -1, false, true, true, false},
		},
		--perna direita
		[8] = {
			['anterior'] = {'ped', 'DAM_LegR_frmFT', -1, false, true, true, false},
			['posterior'] = {'ped', 'DAM_LegR_frmBK', -1, false, true, true, false},
		},
		--
		--cabeça
		[9] = {
			['anterior'] = {'ped', 'SHOT_partial', -1, false, true, true, false},
			['posterior'] = {'ped', 'SHOT_partial_B', -1, false, true, true, false},
		},
		--
	},
	--
	['obito'] = {
		--Tórax
		[3] = {
			['anterior'] = {'ped', 'KO_shot_stom', -1, false, true, false, true},
			['posterior'] = {'ped', 'KO_skid_back', -1, false, true, false, true},
		},
		--braço esquerdo
		[5] = {
			['anterior'] = {'ped', 'KO_spin_L', -1, false, true, false, true},
			['posterior'] = {'ped', 'KO_spin_L', -1, false, true, false, true},
		},
		--braço direito
		[6] = {
			['anterior'] = {'ped', 'KO_spin_R', -1, false, true, false, true},
			['posterior'] = {'ped', 'KO_spin_R', -1, false, true, false, true},
		},
		--perna esquerda
		[7] = {
			['anterior'] = {'ped', 'KD_left', -1, false, true, false, true},
			['posterior'] = {'ped', 'KD_left', -1, false, true, false, true},
		},
		--perna direita
		[8] = {
			['anterior'] = {'ped', 'KD_right', -1, false, true, false, true},
			['posterior'] = {'ped', 'KD_right', -1, false, true, false, true},
		},
		--
		--cabeça
		[9] = {
			['anterior'] = {'ped', 'KO_shot_face', -1, false, true, false, true},
			['posterior'] = {'ped', 'KO_shot_front', -1, false, true, false, true},
		},
		--
	},

}
    
function arremate ()
	hit_anims['alvejar'][1] = hit_anims['alvejar'][3]
    hit_anims['alvejar'][2] = hit_anims['alvejar'][4]
    hit_anims['alvejar'][5] = hit_anims['alvejar'][9]
    hit_anims['alvejar'][6] = hit_anims['alvejar'][9]
    hit_anims['alvejar'][7] = hit_anims['alvejar'][9]
    hit_anims['alvejar'][8] = hit_anims['alvejar'][9]
    hit_anims['alvejar'][21] = hit_anims['alvejar'][5]
    hit_anims['alvejar'][22] = hit_anims['alvejar'][5]
    hit_anims['alvejar'][23] = hit_anims['alvejar'][5]
    hit_anims['alvejar'][24] = hit_anims['alvejar'][5]
    hit_anims['alvejar'][25] = hit_anims['alvejar'][5]
    hit_anims['alvejar'][26] = hit_anims['alvejar'][5]
    hit_anims['alvejar'][31] = hit_anims['alvejar'][6]
    hit_anims['alvejar'][32] = hit_anims['alvejar'][6]
    hit_anims['alvejar'][33] = hit_anims['alvejar'][6]
    hit_anims['alvejar'][34] = hit_anims['alvejar'][6]
    hit_anims['alvejar'][35] = hit_anims['alvejar'][6]
    hit_anims['alvejar'][36] = hit_anims['alvejar'][6]
    hit_anims['alvejar'][41] = hit_anims['alvejar'][7]
    hit_anims['alvejar'][42] = hit_anims['alvejar'][7]
    hit_anims['alvejar'][43] = hit_anims['alvejar'][7]
    hit_anims['alvejar'][44] = hit_anims['alvejar'][7]
    hit_anims['alvejar'][51] = hit_anims['alvejar'][8]
    hit_anims['alvejar'][52] = hit_anims['alvejar'][8]
    hit_anims['alvejar'][53] = hit_anims['alvejar'][8]
	
	hit_anims['obito'][1] = hit_anims['obito'][3]
    hit_anims['obito'][2] = hit_anims['obito'][4]
    hit_anims['obito'][5] = hit_anims['obito'][9]
    hit_anims['obito'][6] = hit_anims['obito'][9]
    hit_anims['obito'][7] = hit_anims['obito'][9]
    hit_anims['obito'][8] = hit_anims['obito'][9]
    hit_anims['obito'][21] = hit_anims['obito'][5]
    hit_anims['obito'][22] = hit_anims['obito'][5]
    hit_anims['obito'][23] = hit_anims['obito'][5]
    hit_anims['obito'][24] = hit_anims['obito'][5]
    hit_anims['obito'][25] = hit_anims['obito'][5]
    hit_anims['obito'][26] = hit_anims['obito'][5]
    hit_anims['obito'][31] = hit_anims['obito'][6]
    hit_anims['obito'][32] = hit_anims['obito'][6]
    hit_anims['obito'][33] = hit_anims['obito'][6]
    hit_anims['obito'][34] = hit_anims['obito'][6]
    hit_anims['obito'][35] = hit_anims['obito'][6]
    hit_anims['obito'][36] = hit_anims['obito'][6]
    hit_anims['obito'][41] = hit_anims['obito'][7]
    hit_anims['obito'][42] = hit_anims['obito'][7]
    hit_anims['obito'][43] = hit_anims['obito'][7]
    hit_anims['obito'][44] = hit_anims['obito'][7]
    hit_anims['obito'][51] = hit_anims['obito'][8]
    hit_anims['obito'][52] = hit_anims['obito'][8]
    hit_anims['obito'][53] = hit_anims['obito'][8]
end
arremate ()

function getPositionFromElementOffset(element,offX,offY,offZ)
    local m = getElementMatrix ( element )  -- Get the matrix
    local x = offX * m[1][1] + offY * m[2][1] + offZ * m[3][1] + m[4][1]  -- Apply transform
    local y = offX * m[1][2] + offY * m[2][2] + offZ * m[3][2] + m[4][2]
    local z = offX * m[1][3] + offY * m[2][3] + offZ * m[3][3] + m[4][3]
    return x, y, z                               -- Return the transformed point
end

knockdown = {}
function hitAnim (agressor, arma, parte)
	--if getSlotFromWeapon (arma) < 2 then return end
	if isElementInWater (source) then return end
	if isPedDead (source) then return end
local vitima = source
	if parte == 9 then parte = 8 end
local ax,ay,az = getElementPosition (agressor)
local x,y,z = getElementBonePosition (vitima, 3)
local px,py,pz = getElementBonePosition (vitima, 201)
local dist1 = getDistanceBetweenPoints3D (ax,ay,az, x,y,z)
local dist2 = getDistanceBetweenPoints3D (ax,ay,az, px,py,pz)
	if getElementHealth (vitima) > 0 then
	t = hit_anims['alvejar']
	else
	t = hit_anims['obito']
	end
local t = hit_anims['alvejar']
	if dist1 < dist2 then
	setPedAnimation (vitima, unpack (t[parte].anterior))
	else
	setPedAnimation (vitima, unpack (t[parte].posterior))
	end
local properties = getData ()
	if getElementHealth (vitima) <= 0 or properties[arma].knockdown then
		if isElement (vitima) then
		local t = hit_anims['obito']
			--
			if properties[arma].knockdown then
				--setTimer (function ()
					if isElement (vitima) then
						--if t then outputChatBox ("T EXISTE") else outputChatBox ("T NAO EXISTE") end
						--if parte then outputChatBox ("PARTE EXISTE: "..parte) else outputChatBox ("PARTE NAO EXISTE") end
						--if t[parte].anterior then outputChatBox ("ANTERIOR EXISTE") else outputChatBox ("ANTERIOR NAO EXISTE") end
						--if t[parte].posterior then outputChatBox ("posterior EXISTE") else outputChatBox ("posterior NAO EXISTE") end
						if dist1 < dist2 then
						--setPedAnimation (vitima, unpack (t[parte].anterior))
						knockdown[vitima] = 'anterior'
						else
						knockdown[vitima] = 'posterior'
						--setPedAnimation (vitima, unpack (t[parte].posterior))
						end
						setTimer (function ()
							if isElement (vitima) and isPedDead (vitima) == false then
								if dist1 > dist2 or t[parte].anterior[2] == 'KO_shot_stom' then
							--	setPedAnimation (vitima, 'ped', 'getup_front', -1, false, true, false, false)
								else
								--setPedAnimation (vitima, 'ped', 'getup', -1, false, true, false, false)
								end
							knockdown[vitima] = nil
							end
						end, properties[arma].knockdown or 5000, 1)
					end
				--end, 1000, 1)
			else
			
				if dist1 < dist2 then
				setPedAnimation (vitima, unpack (t[parte].anterior))
				knockdown[vitima] = 'anterior'
				else
				setPedAnimation (vitima, unpack (t[parte].posterior))
				knockdown[vitima] = 'posterior'
				end
			end
		end
	end
end
addEventHandler ('onClient'..events.damage['ped'], getRootElement(), hitAnim)
addEventHandler ('onClient'..events.damage['player'], getRootElement(), hitAnim)

addEventHandler ('onClientWeaponFire', getRootElement(), function (elem)
	if isElement (elem) and (getElementType (elem) == 'player' or getElementType (elem) == 'ped') then
		if getElementHealth (elem) <= 0 then
			if knockdown[elem] then
				if knockdown[elem] == 'anterior' then
				_setPedAnimation (elem, 'ped', 'FLOOR_hit', -1, false, true, false, true, 1, true)
				else
				_setPedAnimation (elem, 'ped', 'FLOOR_hit_f', -1, false, true, false, true, 1, true)
				end
			else
			_setPedAnimation (elem, 'ped', 'FLOOR_hit', -1, false, true, false, true, 1, true)
			end
		end
	end
end)

storedCol = {}
function morreu ()
storedCol[source] = {}
local p = getElementsByType ('player')
	for i=1, #p do
	setElementCollidableWith (source, p[i], false)
	table.insert (storedCol[source], p[i])
	end
local p = getElementsByType ('ped')
	for i=1, #p do
	setElementCollidableWith (source, p[i], false)
	table.insert (storedCol[source], p[i])
	end
local p = getElementsByType ('vehicle')
	for i=1, #p do
	setElementCollidableWith (source, p[i], false)
	table.insert (storedCol[source], p[i])
	end
end
addEventHandler ('onClientPedWasted', getRootElement(), morreu)
addEventHandler ('onClientPlayerWasted', getRootElement(), morreu)

function stream ()
	if getElementType (source) == 'ped' or getElementType (source) == 'player' then
		if isPedDead (source) then
		storedCol[source] = {}
		local p = getElementsByType ('player')
			for i=1, #p do
			setElementCollidableWith (source, p[i], false)
			table.insert (storedCol[source], p[i])
			end
		local p = getElementsByType ('ped')
			for i=1, #p do
			setElementCollidableWith (source, p[i], false)
			table.insert (storedCol[source], p[i])
			end
		local p = getElementsByType ('vehicle')
			for i=1, #p do
			setElementCollidableWith (source, p[i], false)
			table.insert (storedCol[source], p[i])
			end
		end
	end	
end
addEventHandler ('onClientElementStreamIn', getRootElement(), stream)

addEventHandler ('onClientPlayerSpawn', getRootElement(), function ()
	if storedCol[source] then
	local p = storedCol[source]
		for i=1, #p do
			if isElement (p[i]) then
				if getElementType (p[i]) == 'ped' and isPedDead (p[i]) then
				else
				setElementCollidableWith (source, p[i], true)
				end
			end
		end
	end
end)

end
hitAnim ()